# Amazon产品信息提取器 - 最终解决方案

## 🚨 如果插件仍然显示"无法连接到页面脚本"

### 立即解决方案（推荐）

#### 方案1: 使用紧急修复脚本 ⭐
1. 在Amazon产品页面打开开发者工具（按F12）
2. 切换到"Console"标签页
3. 复制 `chrome-extension/emergency-fix.js` 文件的全部内容
4. 粘贴到控制台并按回车
5. 页面右上角会出现紧急UI，点击"提取产品信息"即可使用

#### 方案2: 完整重装插件
1. **完全卸载旧插件**
   - 进入 `chrome://extensions/`
   - 移除插件
   - **重启Chrome浏览器**

2. **清理缓存**
   - 按 Ctrl+Shift+Delete
   - 清除"缓存的图片和文件"

3. **重新安装**
   - 重启Chrome后重新安装插件
   - 确保版本为2.0.1

#### 方案3: 手动运行测试脚本
1. 在Amazon产品页面按F12打开控制台
2. 复制 `chrome-extension/test-plugin.js` 的内容到控制台
3. 查看测试结果，根据提示进行修复

## 📋 插件功能说明

### 主要功能
- ✅ 提取产品标题
- ✅ 提取五点描述
- ✅ 提取产品重量和尺寸
- ✅ 提取ASIN和价格
- ✅ 单独复制各项信息
- ✅ 一键复制全部信息
- ✅ 自动填充利润计算器

### 支持的Amazon域名
- amazon.com (美国)
- amazon.cn (中国)
- amazon.co.uk (英国)
- amazon.de (德国)
- amazon.fr (法国)
- amazon.it (意大利)
- amazon.es (西班牙)
- amazon.ca (加拿大)
- amazon.com.au (澳大利亚)
- amazon.co.jp (日本)
- amazon.in (印度)

## 🔧 技术改进详情

### 本次修复内容
1. **添加了Background Script** - 自动管理content script注入
2. **改进了连接检测机制** - 多重验证确保连接成功
3. **增强了错误处理** - 更详细的错误信息和修复建议
4. **优化了重试机制** - 智能重试和强制重新注入
5. **添加了防重复注入** - 避免脚本冲突

### 新增文件
- `background.js` - 后台服务脚本
- `emergency-fix.js` - 紧急修复脚本
- `test-plugin.js` - 插件测试脚本

## 🎯 使用建议

### 最佳实践
1. **首次使用**
   - 完全重装插件
   - 重启浏览器
   - 在产品页面测试

2. **日常使用**
   - 确保在产品详情页面（URL包含/dp/）
   - 等待页面完全加载
   - 如有问题，刷新页面重试

3. **遇到问题时**
   - 优先使用紧急修复脚本
   - 检查浏览器控制台错误信息
   - 尝试不同的Amazon域名

### 性能优化
- 插件只在Amazon页面激活
- 自动检测页面类型
- 智能缓存提取结果
- 最小化资源占用

## 📞 技术支持

### 自助诊断
1. 运行测试脚本检查各项功能
2. 查看浏览器控制台错误信息
3. 确认插件权限设置

### 常见问题
- **Q: 插件图标不显示？**
  A: 检查插件是否启用，重新加载插件

- **Q: 提取不到信息？**
  A: 确保在产品页面，等待页面完全加载

- **Q: 复制功能不工作？**
  A: 检查浏览器剪贴板权限

- **Q: 计算器页面没有数据？**
  A: 先提取产品信息，再打开计算器

## 🔄 版本历史

### v2.0.1 (当前版本)
- 修复连接问题
- 添加多重验证机制
- 支持更多Amazon域名
- 改进错误处理

### v2.0.0
- 添加五点描述提取
- 支持单独复制功能
- 优化UI界面

---

**重要提醒**: 如果所有方案都无法解决问题，请使用紧急修复脚本作为临时解决方案。该脚本可以在任何Amazon产品页面直接运行，无需依赖插件连接。