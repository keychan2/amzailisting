<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>äºšé©¬é€ŠListingæé€Ÿç”Ÿæˆå™¨ | Amazon Listing Generator</title>
  <meta name="description" content="å…è´¹åœ¨çº¿å·¥å…·ï¼Œä¸€é”®ç”Ÿæˆäºšé©¬é€Šäº§å“æ ‡é¢˜å’Œäº”ç‚¹æè¿°ï¼Œæ”¯æŒå…³é”®è¯ä¼˜åŒ–ï¼Œé€‚ç”¨äºè·¨å¢ƒå–å®¶ã€Amazonè¿è¥ã€‚" />
  <meta name="keywords" content="äºšé©¬é€ŠListingç”Ÿæˆå™¨, Amazonäº”ç‚¹æè¿°, æ ‡é¢˜ä¼˜åŒ–, Listingä¼˜åŒ–, è·¨å¢ƒç”µå•†å·¥å…·" />
  <style>
    :root {
      --primary-color: #007bff;
      --bg-light: #f8f9fa;
      --bg-white: #ffffff;
      --text-main: #343a40;
      --text-secondary: #6c757d;
      --border-color: #dee2e6;
    }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background-color: var(--bg-light);
      color: var(--text-main);
    }
    header {
      background-color: var(--primary-color);
      color: white;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 32px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }
    header h1 {
      margin: 0;
      font-size: 28px;
      font-weight: bold;
      letter-spacing: 1px;
      padding: 0;
    }
    #user-actions {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    #user-actions .nav-btn {
      margin: 0;
      box-shadow: none;
      background: transparent;
      border: 1px solid white;
      color: white;
    }
    #user-actions .nav-btn:hover {
      background: rgba(255,255,255,0.2);
      border-color: white;
      color: white;
    }
    .nav-bar {
      display: flex;
      justify-content: center;
      gap: 24px;
      margin-top: 12px;
      position: relative;
      z-index: 2;
    }
    .nav-btn {
      background: #fff;
      color: var(--primary-color);
      border: 2px solid var(--primary-color);
      border-radius: 999px;
      font-size: 18px;
      font-weight: 500;
      padding: 8px 32px;
      margin: 0 4px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      display: inline-block;
    }
    .nav-btn.active, .nav-btn:active {
      background: var(--primary-color);
      color: #fff;
      box-shadow: 0 4px 16px rgba(0,122,255,0.10);
      border-color: var(--primary-color);
    }
    .nav-btn:hover:not(.active) {
      box-shadow: 0 6px 20px rgba(0,122,255,0.13);
      border-color: var(--primary-color);
      color: var(--primary-color);
      background: rgba(0,122,255,0.1);
    }
    main {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: flex-start;
      gap: 32px;
      padding: 32px 8px 24px 8px;
      /* ä¿®æ”¹ max-width ä»¥å®¹çº³æ–°çš„ä¸€åˆ— */
      max-width: 1600px;
      margin: 0 auto;
    }
    .column {
      flex: 1 1 0;
      display: flex;
      flex-direction: column;
      background-color: var(--bg-white);
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      padding: 32px 24px;
      min-width: 320px;
      /* è°ƒæ•´æœ€å¤§å®½åº¦ */
      max-width: 500px;
    }
    h2 {
      color: var(--primary-color);
      margin-bottom: 16px;
      font-size: 20px;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 8px;
    }
    label {
      font-weight: 600;
      margin-bottom: 5px;
      display: block;
    }
    textarea, input {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border-radius: 12px;
      border: 1px solid var(--border-color);
      font-size: 16px;
      background-color: var(--bg-light);
      color: var(--text-main);
      box-sizing: border-box;
      min-height: 40px;
    }
    textarea:focus, input:focus {
      outline: none;
      border-color: var(--primary-color);
      background-color: var(--bg-white);
    }
    button {
      background-color: var(--primary-color);
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
      align-self: flex-start;
      margin-top: 24px;
    }
    button:hover {
      background-color: #005fcc;
    }
    .result {
      white-space: pre-wrap;
      background-color: var(--bg-white);
      padding: 20px;
      border-radius: 16px;
      border: 1px solid var(--border-color);
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      flex: 1;
      min-height: 200px;
    }
    .custom-select-wrapper {
      position: relative;
    }
    .custom-select {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-color: var(--bg-light);
      border: 1px solid var(--border-color);
      padding: 12px;
      font-size: 16px;
      color: var(--text-main);
      border-radius: 12px;
      width: 100%;
      box-sizing: border-box;
      background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 8L10 12L14 8' stroke='%23636366' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px;
      transition: border-color 0.3s ease;
    }
    .custom-select:focus {
      outline: none;
      border-color: var(--primary-color);
      background-color: var(--bg-white);
    }
    @media (max-width: 1200px) { /* è°ƒæ•´æ–­ç‚¹ä»¥é€‚åº”ä¸‰åˆ—å¸ƒå±€ */
      main {
        flex-direction: column;
        gap: 20px;
        max-width: 98vw;
      }
      .column {
        max-width: 100vw;
        min-width: 0;
      }
      .history-column {
        max-height: 400px; /* åœ¨è¾ƒå°å±å¹•ä¸Šè°ƒæ•´é«˜åº¦ */
      }
    }
    @media (max-width: 600px) {
      header h1 {
        font-size: 22px;
        padding: 18px 0 0 0;
      }
      .nav-btn {
        font-size: 15px;
        padding: 7px 16px;
      }
      .nav-bar {
        gap: 10px;
      }
      main {
        padding: 8px 2px 12px 2px;
      }
      .column {
        padding: 12px 4px;
      }
    }
    .site-footer {
      background-color: #343a40;
      padding: 24px 16px;
      text-align: center;
      color: white;
      font-size: 14px;
      border-top: none;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
      margin-top: 40px;
      border-radius: 12px 12px 0 0;
      width: 100%;
      position: static;
    }
    .site-footer a {
      color: #ffffff;
      text-decoration: underline;
      font-weight: 500;
      margin: 0 8px;
    }
    .site-footer a:hover {
      text-decoration: none;
      opacity: 0.9;
    }
    .donate-button {
      position: fixed;
      right: 20px;
      bottom: 20px;
      background-color: #fd7e14;
      color: white;
      border: none;
      padding: 12px 16px;
      border-radius: 999px;
      font-size: 14px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
    }
    button:disabled, .nav-btn:disabled {
      background-color: #b0b0b0 !important;
      color: #f5f5f5 !important;
      border-color: #b0b0b0 !important;
      cursor: not-allowed !important;
      box-shadow: none !important;
      opacity: 0.7;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.4);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 16px;
      text-align: center;
      max-width: 800px;
      width: 90%;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      position: relative;
    }
    .close-button {
      position: absolute;
      top: 10px;
      right: 14px;
      font-size: 20px;
      cursor: pointer;
    }
    .intro-section p,
    .intro-section ul,
    .intro-section li {
      padding-left: 16px;
      padding-right: 16px;
      box-sizing: border-box;
    }
    .intro-section h2,
    .intro-section h3 {
      padding-left: 16px;
      padding-right: 16px;
    }
    .intro-section h2 {
      margin-top: 0;
    }
    main .column h2 {
      margin-top: 0;
    }
    .intro-section ul {
      list-style: none;
      padding-left: 0;
    }
    
    /* æ¨¡å¼é€‰æ‹©å™¨æ ·å¼ */
    .mode-selector {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .mode-btn {
      flex: 1;
      padding: 12px 20px;
      border: 2px solid var(--primary-color);
      background: white;
      color: var(--primary-color);
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .mode-btn.active {
      background: var(--primary-color);
      color: white;
    }

    .mode-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,123,255,0.3);
    }

    /* é«˜çº§æ¨¡å¼è¡¨å•æ ·å¼ */
    .advanced-form {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .form-section {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 12px;
      border: 1px solid #e9ecef;
    }

    .form-section h3 {
      margin: 0 0 16px 0;
      color: var(--primary-color);
      font-size: 16px;
      font-weight: 600;
      border-bottom: 2px solid var(--primary-color);
      padding-bottom: 8px;
    }

    .form-row {
      display: flex;
      gap: 16px;
      margin-bottom: 16px;
    }

    .form-row:last-child {
      margin-bottom: 0;
    }

    .form-col {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .form-col-full {
      width: 100%;
      display: flex;
      flex-direction: column;
    }

    .form-col label,
    .form-col-full label {
      margin-bottom: 6px;
      font-weight: 500;
      color: var(--text-main);
      font-size: 14px;
    }

    .form-col input,
    .form-col select,
    .form-col textarea,
    .form-col-full input,
    .form-col-full select,
    .form-col-full textarea {
      padding: 10px 12px;
      border: 1px solid #ced4da;
      border-radius: 6px;
      font-size: 14px;
      transition: border-color 0.3s ease;
    }

    .form-col input:focus,
    .form-col select:focus,
    .form-col textarea:focus,
    .form-col-full input:focus,
    .form-col-full select:focus,
    .form-col-full textarea:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
    }

    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      .form-row {
        flex-direction: column;
        gap: 12px;
      }
      
      .mode-selector {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>äºšé©¬é€ŠListingæé€Ÿç”Ÿæˆå™¨</h1>
    <div id="user-actions">
      <a href="auth.html" class="nav-btn" id="auth-btn">ç™»å½•/æ³¨å†Œ</a>
    </div>
  </header>
  <nav class="nav-bar">
    <a href="index.html" class="nav-btn active">Listingç”Ÿæˆå™¨</a>
    <a href="zhuangxiang.html" class="nav-btn">è£…ç®±è®¡ç®—å™¨</a>
    <a href="amazon_profit_calculator.html" class="nav-btn">åˆ©æ¶¦è®¡ç®—å™¨</a>
    <a href="extension-download.html" class="nav-btn">ä¸‹è½½æ‰©å±•</a>
  </nav>
  <main>
    <div class="column">
      <h2>è¾“å…¥å†…å®¹</h2>
      
      <!-- æ¨¡å¼é€‰æ‹© -->
      <div class="input-group">
        <label>ç”Ÿæˆæ¨¡å¼</label>
        <div class="mode-selector">
          <button id="basic-mode-btn" class="mode-btn active" onclick="switchMode('basic')">åŸºç¡€æ¨¡å¼</button>
          <button id="advanced-mode-btn" class="mode-btn" onclick="switchMode('advanced')">é«˜çº§æ¨¡å¼</button>
        </div>
      </div>

      <!-- åŸºç¡€æ¨¡å¼ (ç°æœ‰å†…å®¹) -->
      <div id="basic-mode" class="mode-content">
        <div class="input-group">
          <label for="titles">å‚è€ƒç«å“æ ‡é¢˜ï¼ˆå»ºè®®ä¸åŒæ ‡é¢˜è¿›è¡Œæ¢è¡Œï¼‰</label>
          <textarea id="titles" rows="5" placeholder="è¯·è¾“å…¥ç«å“æ ‡é¢˜ï¼Œæ•°é‡ä¸é™"></textarea>
        </div>
        <div class="input-group">
          <label for="bullets">å‚è€ƒç«å“äº”ç‚¹æè¿°ï¼ˆå»ºè®®æ¯ç‚¹æè¿°è¿›è¡Œæ¢è¡Œï¼‰</label>
          <textarea id="bullets" rows="5" placeholder="è¯·è¾“å…¥ç«å“æè¿°ï¼Œæ•°é‡ä¸é™"></textarea>
        </div>
        <label for="features">äº§å“ç‰¹æ€§ï¼ˆé€‰å¡«ï¼‰</label>
        <textarea id="features" rows="3" placeholder="å¦‚æè´¨ã€ç‰¹æ€§ã€å°ºå¯¸å¤§å°ç­‰"></textarea>
        <label for="keywords">å…³é”®è¯ï¼ˆé€‰å¡«ï¼‰</label>
        <input type="text" id="keywords" placeholder="ä»¥è‹±æ–‡é€—å·åˆ†éš”ï¼Œä¾‹å¦‚ iPhone case, iPhone, ceramic" />
      </div>

      <!-- é«˜çº§æ¨¡å¼ (æ–°å¢) -->
      <div id="advanced-mode" class="mode-content" style="display: none;">
        <div class="advanced-form">
          <!-- äº§å“åŸºæœ¬ä¿¡æ¯ -->
          <div class="form-section">
            <h3>äº§å“åŸºæœ¬ä¿¡æ¯</h3>
            <div class="form-row">
              <div class="form-col">
                <label for="product-category">äº§å“ç±»åˆ« *</label>
                <select id="product-category" onchange="updatePromptStrategy()">
                  <option value="">è¯·é€‰æ‹©ç±»åˆ«</option>
                  <option value="electronics">ç”µå­äº§å“</option>
                  <option value="home-kitchen">å®¶å±…å¨æˆ¿</option>
                  <option value="clothing">æœè£…é…é¥°</option>
                  <option value="sports">è¿åŠ¨æˆ·å¤–</option>
                  <option value="beauty">ç¾å®¹æŠ¤ç†</option>
                  <option value="toys">ç©å…·æ¸¸æˆ</option>
                  <option value="automotive">æ±½è½¦ç”¨å“</option>
                  <option value="health">å¥åº·ä¿å¥</option>
                  <option value="other">å…¶ä»–</option>
                </select>
              </div>
              <div class="form-col">
                <label for="brand-positioning">å“ç‰Œå®šä½</label>
                <select id="brand-positioning">
                  <option value="">è¯·é€‰æ‹©å®šä½</option>
                  <option value="premium">é«˜ç«¯å“ç‰Œ</option>
                  <option value="mid-range">ä¸­ç«¯å“ç‰Œ</option>
                  <option value="budget">ç»æµå®æƒ </option>
                  <option value="luxury">å¥¢ä¾ˆå“ç‰Œ</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-col">
                <label for="main-function">ä¸»è¦åŠŸèƒ½ *</label>
                <input type="text" id="main-function" placeholder="ä¾‹å¦‚ï¼šæ— çº¿å……ç”µã€é˜²æ°´ä¿æŠ¤ã€æ™ºèƒ½æ§åˆ¶">
              </div>
              <div class="form-col">
                <label for="unique-selling-point">ç‹¬ç‰¹å–ç‚¹</label>
                <input type="text" id="unique-selling-point" placeholder="ä¾‹å¦‚ï¼šä¸“åˆ©æŠ€æœ¯ã€ç‹¬å®¶è®¾è®¡ã€è¡Œä¸šé¦–åˆ›">
              </div>
            </div>
          </div>

          <!-- ç›®æ ‡ç”¨æˆ·ä¿¡æ¯ -->
          <div class="form-section">
            <h3>ç›®æ ‡ç”¨æˆ·ä¿¡æ¯</h3>
            <div class="form-row">
              <div class="form-col">
                <label for="target-audience">ç›®æ ‡ç”¨æˆ·ç¾¤ä½“ *</label>
                <input type="text" id="target-audience" placeholder="ä¾‹å¦‚ï¼š25-40å²èŒåœºå¥³æ€§ã€ç§‘æŠ€çˆ±å¥½è€…ã€å¥èº«äººç¾¤">
              </div>
              <div class="form-col">
                <label for="usage-scenario">ä½¿ç”¨åœºæ™¯</label>
                <input type="text" id="usage-scenario" placeholder="ä¾‹å¦‚ï¼šå®¶åº­ä½¿ç”¨ã€åŠå…¬å®¤ã€æˆ·å¤–è¿åŠ¨ã€æ—…è¡Œ">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-col-full">
                <label for="pain-points">è§£å†³çš„ç—›ç‚¹/éœ€æ±‚</label>
                <textarea id="pain-points" rows="2" placeholder="ä¾‹å¦‚ï¼šè§£å†³å……ç”µæ…¢çš„é—®é¢˜ã€æä¾›æ›´å¥½çš„ä¿æŠ¤ã€ç®€åŒ–æ“ä½œæµç¨‹"></textarea>
              </div>
            </div>
          </div>

          <!-- äº§å“å±æ€§ -->
          <div class="form-section">
            <h3>äº§å“å±æ€§</h3>
            <div class="form-row">
              <div class="form-col">
                <label for="material">æè´¨/ææ–™</label>
                <input type="text" id="material" placeholder="ä¾‹å¦‚ï¼šç¡…èƒ¶ã€ä¸é”ˆé’¢ã€é™¶ç“·ã€ç¢³çº¤ç»´">
              </div>
              <div class="form-col">
                <label for="dimensions">å°ºå¯¸è§„æ ¼</label>
                <input type="text" id="dimensions" placeholder="ä¾‹å¦‚ï¼š10x5x2cmã€é€‚é…6.1è‹±å¯¸å±å¹•">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-col">
                <label for="colors">é¢œè‰²/æ¬¾å¼</label>
                <input type="text" id="colors" placeholder="ä¾‹å¦‚ï¼šé»‘è‰²ã€ç™½è‰²ã€é€æ˜ã€å¤šè‰²å¯é€‰">
              </div>
              <div class="form-col">
                <label for="tech-specs">æŠ€æœ¯å‚æ•°</label>
                <input type="text" id="tech-specs" placeholder="ä¾‹å¦‚ï¼š15Wå¿«å……ã€IP68é˜²æ°´ã€è“ç‰™5.0">
              </div>
            </div>
          </div>

          <!-- è¥é”€è¦ç´  -->
          <div class="form-section">
            <h3>è¥é”€è¦ç´ </h3>
            <div class="form-row">
              <div class="form-col">
                <label for="core-keywords">æ ¸å¿ƒå…³é”®è¯</label>
                <input type="text" id="core-keywords" placeholder="ä»¥è‹±æ–‡é€—å·åˆ†éš”ï¼Œä¾‹å¦‚ï¼šwireless charger, fast charging">
              </div>
              <div class="form-col">
                <label for="competitive-advantage">ç«äº‰ä¼˜åŠ¿</label>
                <input type="text" id="competitive-advantage" placeholder="ä¾‹å¦‚ï¼šæ¯”åŒç±»äº§å“å¿«50%ã€ç‹¬å®¶ä¸“åˆ©æŠ€æœ¯">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-col">
                <label for="price-positioning">ä»·æ ¼å®šä½</label>
                <select id="price-positioning">
                  <option value="">è¯·é€‰æ‹©ä»·æ ¼åŒºé—´</option>
                  <option value="under-10">$10ä»¥ä¸‹</option>
                  <option value="10-25">$10-25</option>
                  <option value="25-50">$25-50</option>
                  <option value="50-100">$50-100</option>
                  <option value="over-100">$100ä»¥ä¸Š</option>
                </select>
              </div>
              <div class="form-col">
                <label for="seasonality">å­£èŠ‚æ€§/æ—¶æ•ˆæ€§</label>
                <input type="text" id="seasonality" placeholder="ä¾‹å¦‚ï¼šåœ£è¯èŠ‚çƒ­é”€ã€å¤å­£å¿…å¤‡ã€æ–°å“ä¸Šå¸‚">
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- æ¨¡å‹é€‰æ‹© -->
      <div class="input-group">
        <label for="model">é€‰æ‹©æ¨¡å‹</label>
        <div class="custom-select-wrapper">
          <select id="model" class="custom-select">
            <option value="deepseek">DeepSeek</option>
            <option value="chatgpt">ChatGPT</option>
          </select>
        </div>
      </div>
      
      <button id="generate-btn" style="align-self: center;">ç«‹å³ç”Ÿæˆ</button>
    </div>
    <div class="column">
      <h2>ç”Ÿæˆç»“æœ</h2>
      <div id="result" class="result">è¯·è¾“å…¥ç«å“æ ‡é¢˜æˆ–äº”ç‚¹æè¿°ï¼Œå¹¶ç‚¹å‡»ç«‹å³ç”Ÿæˆã€‚</div>
    </div>
  </main>
  <section class="intro-section" style="max-width:1200px;margin:24px auto 40px auto;background:#fff;padding:16px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.04);">
    <h2>äºšé©¬é€ŠListingæé€Ÿç”Ÿæˆå™¨ç®€ä»‹</h2>
    <p>æœ¬å·¥å…·ä¸“ä¸ºäºšé©¬é€Šå–å®¶å’Œè·¨å¢ƒç”µå•†è¿è¥è®¾è®¡ï¼Œæ”¯æŒä¸€é”®ç”Ÿæˆé«˜è½¬åŒ–çš„äº§å“æ ‡é¢˜å’Œäº”ç‚¹æè¿°ï¼ŒåŠ©åŠ›Listingä¼˜åŒ–ï¼Œæå‡æ›å…‰å’Œè½¬åŒ–ç‡ã€‚è¾“å…¥ç«å“ä¿¡æ¯ï¼Œæ™ºèƒ½ç”Ÿæˆä¸­è‹±æ–‡å†…å®¹ï¼Œé€‚ç”¨äºå„ç±»å“ç±»ã€‚</p>
    <h3>å¸¸è§é—®é¢˜</h3>
    <ul>
      <li><b>Q: è¿™ä¸ªå·¥å…·é€‚åˆå“ªäº›äººï¼Ÿ</b><br>é€‚åˆæ‰€æœ‰äºšé©¬é€Šå–å®¶ã€è¿è¥ã€è·¨å¢ƒç”µå•†ä»ä¸šè€…ã€‚</li>
      <li><b>Q: æ”¯æŒå“ªäº›è¯­è¨€ï¼Ÿ</b><br>ç›®å‰æ”¯æŒè‹±æ–‡ç”ŸæˆåŠä¸­æ–‡ç¿»è¯‘ã€‚</li>
    </ul>
  </section>
  <footer class="site-footer">
    <div class="footer-content">
      <p>Â© 2025 äºšé©¬é€Š Listing æé€Ÿç”Ÿæˆå™¨</p>
      <p>
        <a href="privacy-policy.html">éšç§æ”¿ç­–</a> |
        <a href="terms-of-service.html">æœåŠ¡æ¡æ¬¾</a> |
        <a href="about-us.html">å…³äºæˆ‘ä»¬</a> |
        <a href="mailto:gskanchan@163.com">è”ç³»æˆ‘ä»¬</a> |
        <a href="javascript:void(0);" onclick="openModal()">æäº¤åé¦ˆ</a>
      </p>
    </div>
  </footer>
  <div id="feedbackModal" class="modal">
    <div class="modal-content">
      <span class="close-button" onclick="closeModal()">Ã—</span>
      <iframe src="https://uqi0gjbiwfl.feishu.cn/share/base/form/shrcn0RZevoq7QLVvGN6U5gojqb"
              frameborder="0" width="100%" height="700" style="border-radius: 12px;"></iframe>
    </div>
  </div>
  <div id="donateModal" class="modal">
    <div class="modal-content">
      <span class="close-button" onclick="closeDonate()">Ã—</span>
      <h3>â˜• è¯·æˆ‘å–æ¯å¥¶èŒ¶å§ï¼</h3>
      <img src="donate.png" alt="æ‰“èµäºŒç»´ç " style="max-width: 300px; width: 100%; border-radius: 10px;"/>
      <p style="margin-top: 10px;">é•¿æŒ‰æˆ–æ‰«ç æ”¯ä»˜ï¼Œæ„Ÿè°¢ä½ çš„æ”¯æŒï¼ğŸ¥°</p>
    </div>
  </div>
  <button onclick="openDonate()" class="donate-button">ğŸ’— è¯·æˆ‘å–å¥¶èŒ¶</button>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  
  <!-- æ•´åˆæ‰€æœ‰è„šæœ¬é€»è¾‘åˆ°è¿™ä¸€ä¸ªæ¨¡å—è„šæœ¬ä¸­ -->
  <script type="module">
    // å¯¼å…¥ Supabase å®¢æˆ·ç«¯
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

    // Supabase é…ç½®
    const supabaseUrl = 'https://ctgsfnecogatpjgsjygx.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0Z3NmbmVjb2dhdHBqZ3NqeWd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwODk3ODYsImV4cCI6MjA3MTY2NTc4Nn0.xAUVO4DMjj-JievQ51SGxL1QMh3Zc1sATXPXEO_iPCw';
    const supabase = createClient(supabaseUrl, supabaseKey);

    // DOM å…ƒç´ å¼•ç”¨
    const userActions = document.getElementById('user-actions');
    const generateBtn = document.getElementById('generate-btn');
    const resultDiv = document.getElementById('result');

    let currentUser = null; // ç”¨äºå­˜å‚¨å½“å‰ç”¨æˆ·ä¿¡æ¯

    // äº§å“ç±»åˆ«ä¸“ç”¨promptæ¨¡æ¿
    const promptTemplates = {
      electronics: {
        focus: ['æŠ€æœ¯è§„æ ¼', 'å…¼å®¹æ€§', 'æ€§èƒ½ä¼˜åŠ¿', 'å®‰å…¨è®¤è¯', 'ç”¨æˆ·ä½“éªŒ'],
        keywords: ['smart', 'wireless', 'fast', 'compatible', 'certified'],
        tone: 'technical and professional'
      },
      'home-kitchen': {
        focus: ['å®ç”¨æ€§', 'å®‰å…¨æ€§', 'æ˜“æ¸…æ´', 'ç©ºé—´èŠ‚çœ', 'å®¶åº­å‹å¥½'],
        keywords: ['durable', 'safe', 'easy', 'space-saving', 'family'],
        tone: 'warm and practical'
      },
      clothing: {
        focus: ['èˆ’é€‚åº¦', 'æ—¶å°šè®¾è®¡', 'æè´¨è´¨é‡', 'å°ºç é€‚é…', 'æ­é…æ€§'],
        keywords: ['comfortable', 'stylish', 'premium', 'fit', 'versatile'],
        tone: 'fashionable and appealing'
      },
      sports: {
        focus: ['æ€§èƒ½è¡¨ç°', 'è€ç”¨æ€§', 'è¿åŠ¨æ”¯æŒ', 'é€æ°”æ€§', 'ä¸“ä¸šçº§'],
        keywords: ['performance', 'durable', 'athletic', 'breathable', 'professional'],
        tone: 'energetic and motivational'
      },
      beauty: {
        focus: ['æ•ˆæœæ˜¾è‘—', 'æ¸©å’Œé…æ–¹', 'é€‚åˆè‚Œè‚¤', 'æŒä¹…æ•ˆæœ', 'å¤©ç„¶æˆåˆ†'],
        keywords: ['effective', 'gentle', 'suitable', 'long-lasting', 'natural'],
        tone: 'elegant and trustworthy'
      },
      toys: {
        focus: ['å®‰å…¨æ€§', 'æ•™è‚²ä»·å€¼', 'è¶£å‘³æ€§', 'å¹´é¾„é€‚å®œ', 'åˆ›é€ åŠ›'],
        keywords: ['safe', 'educational', 'fun', 'age-appropriate', 'creative'],
        tone: 'playful and safe'
      },
      automotive: {
        focus: ['å…¼å®¹æ€§', 'å®‰è£…ç®€ä¾¿', 'è€ç”¨æ€§', 'æ€§èƒ½æå‡', 'å®‰å…¨ä¿éšœ'],
        keywords: ['compatible', 'easy-install', 'durable', 'performance', 'safety'],
        tone: 'reliable and technical'
      },
      health: {
        focus: ['å¥åº·æ•ˆç›Š', 'ç§‘å­¦éªŒè¯', 'å®‰å…¨æ€§', 'ä½¿ç”¨ä¾¿æ·', 'ä¸“ä¸šæ¨è'],
        keywords: ['healthy', 'scientifically-proven', 'safe', 'convenient', 'recommended'],
        tone: 'professional and caring'
      },
      other: {
        focus: ['å®ç”¨æ€§', 'è´¨é‡ä¿è¯', 'ç”¨æˆ·å‹å¥½', 'æ€§ä»·æ¯”', 'å¤šåŠŸèƒ½'],
        keywords: ['practical', 'quality', 'user-friendly', 'value', 'versatile'],
        tone: 'balanced and appealing'
      }
    };

    // æ™ºèƒ½promptç”Ÿæˆå‡½æ•°
    function generateAdvancedPrompt(formData) {
      const category = formData.productCategory;
      const template = promptTemplates[category] || promptTemplates.other;
      
      // æ„å»ºåŸºç¡€prompt
      let prompt = `Create a compelling Amazon product title and 5 bullet points for a ${category} product based on the following information:\n\n`;
      
      // äº§å“åŸºæœ¬ä¿¡æ¯
      prompt += `PRODUCT OVERVIEW:\n`;
      if (formData.productCategory) prompt += `- Category: ${formData.productCategory}\n`;
      if (formData.brandPositioning) prompt += `- Brand Positioning: ${formData.brandPositioning}\n`;
      if (formData.mainFunction) prompt += `- Main Function: ${formData.mainFunction}\n`;
      if (formData.uniqueSellingPoint) prompt += `- Unique Selling Point: ${formData.uniqueSellingPoint}\n`;
      
      // ç›®æ ‡å¸‚åœºä¿¡æ¯
      if (formData.targetAudience || formData.usageScenario || formData.painPoints) {
        prompt += `\nTARGET MARKET:\n`;
        if (formData.targetAudience) prompt += `- Target Audience: ${formData.targetAudience}\n`;
        if (formData.usageScenario) prompt += `- Usage Scenario: ${formData.usageScenario}\n`;
        if (formData.painPoints) prompt += `- Pain Points Solved: ${formData.painPoints}\n`;
      }
      
      // äº§å“å±æ€§
      if (formData.material || formData.dimensions || formData.colors || formData.techSpecs) {
        prompt += `\nPRODUCT ATTRIBUTES:\n`;
        if (formData.material) prompt += `- Material: ${formData.material}\n`;
        if (formData.dimensions) prompt += `- Dimensions: ${formData.dimensions}\n`;
        if (formData.colors) prompt += `- Colors/Styles: ${formData.colors}\n`;
        if (formData.techSpecs) prompt += `- Technical Specifications: ${formData.techSpecs}\n`;
      }
      
      // è¥é”€è¦ç´ 
      if (formData.coreKeywords || formData.competitiveAdvantage || formData.pricePositioning || formData.seasonality) {
        prompt += `\nMARKETING ELEMENTS:\n`;
        if (formData.coreKeywords) prompt += `- Core Keywords: ${formData.coreKeywords}\n`;
        if (formData.competitiveAdvantage) prompt += `- Competitive Advantage: ${formData.competitiveAdvantage}\n`;
        if (formData.pricePositioning) prompt += `- Price Positioning: ${formData.pricePositioning}\n`;
        if (formData.seasonality) prompt += `- Seasonality: ${formData.seasonality}\n`;
      }
      
      // ç±»åˆ«ç‰¹å®šæŒ‡å¯¼
      prompt += `\nCATEGORY-SPECIFIC GUIDELINES:\n`;
      prompt += `- Focus Areas: ${template.focus.join(', ')}\n`;
      prompt += `- Recommended Keywords: ${template.keywords.join(', ')}\n`;
      prompt += `- Tone: ${template.tone}\n`;
      
      // ç”ŸæˆæŒ‡ä»¤
      prompt += `\nGENERATION INSTRUCTIONS:\n`;
      prompt += `- Create a compelling, keyword-optimized product title (max 200 characters)\n`;
      prompt += `- Generate 5 persuasive bullet points focusing on the category-specific focus areas\n`;
      prompt += `- Incorporate the provided keywords naturally\n`;
      prompt += `- Address the target audience and their pain points directly\n`;
      prompt += `- Highlight unique selling points and competitive advantages\n`;
      prompt += `- Use ${template.tone} tone suitable for Amazon customers\n`;
      prompt += `- Output both in English and Chinese translation\n`;
      prompt += `- For each part, first give the English version, then provide the corresponding Chinese translation below it\n`;
      prompt += `- ä¸­æ–‡ç¿»è¯‘è¦å‡†ç¡®ã€è‡ªç„¶ï¼Œé€‚åˆäºšé©¬é€Šä¸­å›½ç«™æˆ–è·¨å¢ƒå–å®¶å‚è€ƒ\n\n`;
      
      prompt += `Focus on creating content that converts browsers into buyers by emphasizing benefits over features and addressing customer needs directly.`;
      
      return prompt;
    }

    // æ¨¡å¼åˆ‡æ¢åŠŸèƒ½
    function switchMode(mode) {
      const basicMode = document.getElementById('basic-mode');
      const advancedMode = document.getElementById('advanced-mode');
      const basicBtn = document.getElementById('basic-mode-btn');
      const advancedBtn = document.getElementById('advanced-mode-btn');
      
      if (mode === 'basic') {
        basicMode.style.display = 'block';
        advancedMode.style.display = 'none';
        basicBtn.classList.add('active');
        advancedBtn.classList.remove('active');
      } else {
        basicMode.style.display = 'none';
        advancedMode.style.display = 'block';
        basicBtn.classList.remove('active');
        advancedBtn.classList.add('active');
      }
    }

    // æ›´æ–°promptç­–ç•¥ï¼ˆå½“äº§å“ç±»åˆ«æ”¹å˜æ—¶ï¼‰
    function updatePromptStrategy() {
      const category = document.getElementById('product-category').value;
      if (category && promptTemplates[category]) {
        const template = promptTemplates[category];
        // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ åŠ¨æ€æç¤ºæˆ–å»ºè®®
        console.log(`å·²é€‰æ‹©${category}ç±»åˆ«ï¼Œå»ºè®®å…³æ³¨ï¼š${template.focus.join('ã€')}`);
      }
    }

    // æ£€æŸ¥ç”¨æˆ·ç™»å½•çŠ¶æ€å¹¶æ›´æ–°UI
    async function checkUserSession() {
        const { data: { session } } = await supabase.auth.getSession();
        if (session) {
            // ç”¨æˆ·å·²ç™»å½•
            currentUser = session.user;
            userActions.innerHTML = `
                <span style="font-size: 14px; color: white;">æ¬¢è¿, ${currentUser.email}</span>
                <a href="#" id="logout-btn" style="color: white; text-decoration: underline; font-size: 14px;">é€€å‡º</a>
            `;
            
            userActions.querySelector('#logout-btn').addEventListener('click', async (e) => {
                e.preventDefault();
                const { error } = await supabase.auth.signOut();
                if (!error) {
                    window.location.reload();
                } else {
                    console.error('é€€å‡ºå¤±è´¥:', error);
                }
            });

        } else {
            // ç”¨æˆ·æœªç™»å½•
            currentUser = null;
        }
    }

    // æ ¸å¿ƒåŠŸèƒ½ï¼šç”Ÿæˆ Listing
    async function generateListing() {
        const mode = document.getElementById('basic-mode-btn').classList.contains('active') ? 'basic' : 'advanced';
        const model = document.getElementById("model").value;

        generateBtn.disabled = true;
        generateBtn.textContent = "ç”Ÿæˆä¸­...";

        let prompt;

        if (mode === 'basic') {
            // åŸºç¡€æ¨¡å¼é€»è¾‘
            const titles = document.getElementById("titles").value.trim();
            const bullets = document.getElementById("bullets").value.trim();
            const features = document.getElementById("features").value.trim();
            const keywords = document.getElementById("keywords").value.trim();

            if (!titles && !bullets) {
                resultDiv.textContent = "è¯·è‡³å°‘å¡«å†™å‚è€ƒç«å“æ ‡é¢˜æˆ–äº”ç‚¹æè¿°ã€‚";
                generateBtn.disabled = false;
                generateBtn.textContent = "ç«‹å³ç”Ÿæˆ";
                return;
            }

            prompt = `Based on the following reference Amazon titles and bullet points, generate a compelling, keyword-optimized product title and 5 persuasive bullet points.\n\nReference Titles:\n${titles}\n\nReference Bullets:\n${bullets}\n\nProduct Features:\n${features}\n\nTarget Keywords:\n${keywords}\n\nInstructions:\n- Output both in English and Chinese translation.\n- For each part, first give the English version, then provide the corresponding Chinese translation below it.\n- Title: concise, clear, max 200 characters\n- Bullet Points: focus on product benefits, features, and usability (5 points total)\n- Use professional, persuasive tone suitable for Amazon customers.\n- ä¸­æ–‡ç¿»è¯‘è¦å‡†ç¡®ã€è‡ªç„¶ï¼Œé€‚åˆäºšé©¬é€Šä¸­å›½ç«™æˆ–è·¨å¢ƒå–å®¶å‚è€ƒã€‚`;
        } else {
            // é«˜çº§æ¨¡å¼é€»è¾‘
            const formData = {
                productCategory: document.getElementById("product-category").value,
                brandPositioning: document.getElementById("brand-positioning").value,
                mainFunction: document.getElementById("main-function").value.trim(),
                uniqueSellingPoint: document.getElementById("unique-selling-point").value.trim(),
                targetAudience: document.getElementById("target-audience").value.trim(),
                usageScenario: document.getElementById("usage-scenario").value.trim(),
                painPoints: document.getElementById("pain-points").value.trim(),
                material: document.getElementById("material").value.trim(),
                dimensions: document.getElementById("dimensions").value.trim(),
                colors: document.getElementById("colors").value.trim(),
                techSpecs: document.getElementById("tech-specs").value.trim(),
                coreKeywords: document.getElementById("core-keywords").value.trim(),
                competitiveAdvantage: document.getElementById("competitive-advantage").value.trim(),
                pricePositioning: document.getElementById("price-positioning").value,
                seasonality: document.getElementById("seasonality").value.trim()
            };

            // éªŒè¯å¿…å¡«å­—æ®µ
            if (!formData.productCategory || (!formData.mainFunction && !formData.targetAudience)) {
                resultDiv.textContent = "è¯·è‡³å°‘é€‰æ‹©äº§å“ç±»åˆ«ï¼Œå¹¶å¡«å†™ä¸»è¦åŠŸèƒ½æˆ–ç›®æ ‡ç”¨æˆ·ç¾¤ä½“ã€‚";
                generateBtn.disabled = false;
                generateBtn.textContent = "ç«‹å³ç”Ÿæˆ";
                return;
            }

            prompt = generateAdvancedPrompt(formData);
        }

        resultDiv.textContent = "æ­£åœ¨ç”Ÿæˆä¸­ï¼Œçº¦éœ€30ç§’...";

        try {
            const res = await fetch("https://listing-ai.gskanchan.workers.dev", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ prompt, model })
            });

            if (!res.ok) {
                throw new Error(`API è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : ${res.status}`);
            }

            const data = await res.json();
            const generatedContent = data.choices?.[0]?.message?.content || "ç”Ÿæˆå¤±è´¥ï¼Œè¯·æ£€æŸ¥ API è¿”å›å†…å®¹";
            
            resultDiv.innerHTML = marked.parse(generatedContent);

            // æ–°å¢ï¼šå¦‚æœç”¨æˆ·å·²ç™»å½•ï¼Œåˆ™ä¿å­˜è®°å½•åˆ° Supabase
            if (currentUser && generatedContent) {
                const { error: insertError } = await supabase
                    .from('records')
                    .insert([{ 
                        user_id: currentUser.id, 
                        prompt: prompt, // ä¿å­˜åŸå§‹ prompt
                        content: generatedContent // ä¿å­˜ç”Ÿæˆçš„å®Œæ•´å†…å®¹
                    }]);

                if (insertError) {
                    console.error('ä¿å­˜è®°å½•å¤±è´¥:', insertError);
                }
            }

        } catch (error) {
            console.error('ç”Ÿæˆè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:', error);
            resultDiv.textContent = `ç”Ÿæˆå¤±è´¥: ${error.message}`;
        } finally {
            generateBtn.disabled = false;
            generateBtn.textContent = "ç«‹å³ç”Ÿæˆ";
        }
    }

    // å¼¹çª—ç›¸å…³å‡½æ•°
    function openModal() {
        document.getElementById("feedbackModal").style.display = "flex";
    }
    function closeModal() {
        document.getElementById("feedbackModal").style.display = "none";
    }
    function openDonate() {
        document.getElementById("donateModal").style.display = "flex";
    }
    function closeDonate() {
        document.getElementById("donateModal").style.display = "none";
    }
    // å°†å‡½æ•°æš´éœ²åˆ°å…¨å±€ï¼Œä»¥ä¾¿ onclick èƒ½ç»§ç»­å·¥ä½œ
    window.openModal = openModal;
    window.closeModal = closeModal;
    window.openDonate = openDonate;
    window.closeDonate = closeDonate;
    window.switchMode = switchMode;
    window.updatePromptStrategy = updatePromptStrategy;

    // é¡µé¢åŠ è½½æ—¶è¿è¡Œçš„åˆå§‹åŒ–é€»è¾‘
    document.addEventListener('DOMContentLoaded', () => {
        checkUserSession();
        // ä¸ºç”ŸæˆæŒ‰é’®ç»‘å®šäº‹ä»¶
        generateBtn.addEventListener('click', generateListing);
    });
  </script>
  
  <!-- ç§»é™¤æ—§çš„ã€é‡å¤çš„è„šæœ¬å— -->

</body>
</html>